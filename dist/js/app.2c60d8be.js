(function(t){function e(e){for(var a,n,c=e[0],o=e[1],r=e[2],h=0,u=[];h<c.length;h++)n=c[h],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(e);while(u.length)u.shift()();return l.push.apply(l,r||[]),s()}function s(){for(var t,e=0;e<l.length;e++){for(var s=l[e],a=!0,c=1;c<s.length;c++){var o=s[c];0!==i[o]&&(a=!1)}a&&(l.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},l=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/chat-design-vue/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var d=o;l.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("Topbar"),e("Index")],1)},l=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex container"},[t.selectedChat?e("Chats",{attrs:{chats:t.clients,triggerSelectChat:t.removeChat},on:{"set-selected-chat":t.setSelectedChat}}):t._e(),t.selectedChat?e("ChatContent",{attrs:{chat:t.selectedChat,triggerShow:t.showContentChat},on:{"hide-content-chat":function(e){return t.hideContentChat()}}}):t._e()],1)},c=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"chats-container",class:[{hide:-1!=t.activeChat},{expand:-1==t.activeChat}]},[e("div",{staticClass:"d-flex subheader align-center pl-2"},[e("span",{staticClass:"title pr-2"},[t._v("Mensajes")]),e("span",{staticClass:"messages-tip"},[t._v(t._s(t.chats.length))])]),e("div",{staticClass:"px-2 py-2"},[e("div",{staticClass:"pt-1 pb-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Buscar conversaciones..."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),e("div",{staticClass:"d-flex pb-4 option-btn"},[e("div",{staticClass:"pr-2"},[e("button",{staticClass:"btn primary white--text",class:{active:"chats"===t.sectionFilter},on:{click:function(e){t.sectionFilter="chats"}}},[t._v(" Chats ")])]),e("div",[e("button",{staticClass:"btn primary white--text",class:{active:"historial"===t.sectionFilter},on:{click:function(e){t.sectionFilter="historial"}}},[t._v(" Historial ")])])]),t._l(t.filteredChats,(function(s,a){return e("div",{key:a,staticClass:"d-flex pointer chat-card",class:[s.status,{active:t.activeChat===a}],on:{click:function(e){return t.setActiveChat(s,a)}}},[e("div",[e("avatar",{attrs:{username:s.name,size:-1!=t.activeChat?40:50}})],1),e("div",{staticClass:"d-flex flex-column pl-1 justify-center flex-grow-1"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"subtitle flex-grow-1"},[t._v(" "+t._s(s.name)+" ")]),e("div",[t._v(" "+t._s(t.getMessageTimeAgo(s.messages[0].createdAt))+" ")])]),e("div",{staticClass:"text dark-gray--text semi-bold d-flex align-center"},[e("div",{staticClass:"flex-grow-1"},[t._v(" "+t._s(t.getLastMessage(s.messages))+" "),"file"===t.getLastMessage(s.messages)?e("i",{staticClass:"fa-solid fa-file primary--text"}):t._e()]),e("i",{staticClass:"fa-brands fa-whatsapp fa-xl"})])])])})),t.filteredChats.length?t._e():e("div",{staticClass:"text text-center"},[t._v(" No hay coincidencias... ")])],2)])},r=[],d={props:{chats:{type:Array},triggerSelectChat:{type:Boolean}},data(){return{activeChat:0,sectionFilter:"chats",search:"",timeToMinutes:{year:525949,month:43829,week:10080,day:1440}}},computed:{filteredChats(){return[...this.chats].filter(t=>t.name.toLowerCase().includes(this.search.toLowerCase()))},msg(){return t=>t.text}},methods:{setActiveChat(t,e){this.$emit("set-selected-chat",t),this.activeChat=e},getMessageTimeAgo(t){const e=new Date(t),s=new Date,a=s-e,i=Math.floor(a/6e4);return i>this.timeToMinutes.year?(i/this.timeToMinutes.year).toFixed()+"y":i>this.timeToMinutes.month?(i/this.timeToMinutes.month).toFixed()+"mo":i>this.timeToMinutes.week?(i/this.timeToMinutes.week).toFixed()+"w":i+"m"},getLastMessage(t){let e=t[t.length-1].message.text?t[t.length-1].message.text:"file";return e.length>30?e.substring(0,27)+"...":e}},watch:{triggerSelectChat:{handler(){this.activeChat=-1}}}},h=d,u=s("2877"),p=Object(u["a"])(h,o,r,!1,null,null,null),f=p.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-grow-1 relative"},[t.showChatContent?e("div",{staticClass:"d-flex flex-column flex-grow-1 chat-content"},[e("div",{staticClass:"d-flex subheader align-center pl-2"},[e("div",{staticClass:"d-flex align-center"},[e("div",{staticClass:"pointer",on:{click:function(e){return t.hideContentChat()}}},[e("i",{staticClass:"fa-solid fa-angle-left fa-2xl pr-1 small-devices primary--text"})]),e("avatar",{attrs:{username:t.chat.name,size:65}})],1),e("div",{staticClass:"d-flex flex-column flex-grow-1 pl-2"},[e("div",{staticClass:"title"},[t._v(t._s(t.chat.name))]),t._m(0)]),e("div",{staticClass:"px-2 pointer",on:{click:function(e){t.showInfo=!t.showInfo}}},[e("i",{staticClass:"fa-solid fa-circle-info primary--text icon-xl"})])]),e("div",{staticClass:"flex-grow-1 conversation px-1"},t._l(t.chat.messages,(function(a,i){return e("div",{key:i,staticClass:"d-flex align-center py-1",class:"Client"!==a.message.typeUser?"justify-end":""},[e("div",{staticClass:"chat-thumb self-end",class:"Client"!==a.message.typeUser?"d-flex justify-end":""},[0===i||t.chat.messages[i-1].message.typeUser!==a.message.typeUser?e("div",["Client"==a.message.typeUser?e("avatar",{attrs:{username:t.chat.name,size:33}}):e("img",{attrs:{src:s("cde2"),alt:""}})],1):t._e()]),a.message.multimedia?e("div",{staticClass:"chat-multimedia flex-1",class:"Client"!==a.message.typeUser?"order-1":""},[e("div",{staticClass:"pointer",on:{click:function(e){return t.mediaTypeAction(a.message.multimedia)}}},[e("VueFileAgent",{attrs:{uploadUrl:"https://www.mocky.io/v2/5d4fb20b3000005c111099e3",accept:"image/*,video/*,.pdf",maxSize:"14MB",thumbnailSize:160,readonly:!0,meta:"pdf"==a.message.multimedia.ext,value:new t.DecoratedFile(a.message.multimedia).serialize()}})],1)]):e("div",{staticClass:"chat-message flex-1",class:"Client"!==a.message.typeUser?"order-1 primary white--text":"lightGray"},[t._v(" "+t._s(a.message.text)+" ")])])})),0),e("div",{staticClass:"d-flex align-center py-2"},[e("div",{staticClass:"pl-1"},[e("ClipSvg")],1),t._m(1)])]):t._e(),t.showInfo?e("div",{staticClass:"d-flex flex-column chat-info",class:{show:t.showInfo}},[e("div",{staticClass:"d-flex subheader align-center pl-2"},[e("div",{staticClass:"title d-flex align-center"},[e("div",{staticClass:"pointer",on:{click:function(e){t.showInfo=!1}}},[e("i",{staticClass:"fa-solid fa-xmark fa-xs pr-1 small-devices"})]),t._v(" Información ")])]),e("div",{staticClass:"px-2 chat-info-content"},[e("div",{staticClass:"d-flex justify-center pt-3"},[e("avatar",{attrs:{username:t.chat.name,size:130}})],1),e("div",{staticClass:"subtitle pt-2 text-center"},[t._v(t._s(t.chat.name))]),e("div",{staticClass:"text text-center dark-gray--text pb-4"},[t._v("Whatsapp")]),e("div",{staticClass:"headline pb-1"},[t._v("Estatus de conversación")]),e("div",{staticClass:"headline-actions"},[e("span",{class:{active:"end"===t.chat.status},on:{click:function(e){return t.setStatus("end")}}},[e("i",{staticClass:"fa-solid fa-check pr-1",staticStyle:{color:"green"}}),t._v("Finalizada")]),e("span",{class:{active:"cancel"===t.chat.status},on:{click:function(e){return t.setStatus("cancel")}}},[e("i",{staticClass:"fa-solid fa-xmark pr-1",staticStyle:{color:"red"}}),t._v("Cancelada")]),e("span",{class:{active:"in-progress"===t.chat.status},on:{click:function(e){return t.setStatus("in-progress")}}},[e("i",{staticClass:"fa-solid fa-arrow-right-arrow-left pr-1",staticStyle:{color:"blue"}}),t._v("En proceso")])]),e("div",{staticClass:"headline pb-1 pt-3"},[t._v("Acciones")]),t._m(2),t._m(3),e("div",{staticClass:"pl-1"},[e("div",{staticClass:"d-flex align-center pb-2"},[e("i",{staticClass:"fa-solid fa-file-pdf file-red"}),t._m(4),e("DownloadSvg",{staticClass:"donloadsvg"})],1),e("div",{staticClass:"d-flex align-center pb-2"},[e("i",{staticClass:"fa-solid fa-image file-green"}),t._m(5),e("DownloadSvg",{staticClass:"donloadsvg"})],1),e("div",{staticClass:"d-flex align-center"},[e("i",{staticClass:"fa-solid fa-image file-blue"}),t._m(6),e("DownloadSvg",{staticClass:"donloadsvg"})],1)]),e("div",{staticClass:"d-flex"})])]):t._e(),e("Dialog",{attrs:{dialog:t.dialog,imageDialog:t.imageDialog}})],1)},v=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text"},[e("i",{staticClass:"fa-solid fa-circle-dot fa-xs",staticStyle:{color:"green","padding-right":"4px"}}),t._v("Whatsaapp ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-grow-1 px-2 input-icon relative"},[e("input",{staticClass:"input-chat",staticStyle:{width:"95%"},attrs:{type:"text",placeholder:"Escribe un mensaje..."}}),e("div",{staticClass:"pointer"},[e("i",{staticClass:"fa-solid fa-paper-plane primary--text fa-lg"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"headline-actions primary--text"},[e("span",[e("i",{staticClass:"fa-solid fa-ban pr-1"}),t._v("Bloquear usuario")]),e("span",[e("i",{staticClass:"fa-solid fa-heart pr-1"}),t._v("Marcar como favorito")]),e("span",[e("i",{staticClass:"fa-solid fa-bookmark pr-1"}),t._v("Marcador")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"headline pb-1 pt-3"},[t._v(" Archivos "),e("span",{staticClass:"messages-tip"},[t._v("3")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column flex-grow-1 pl-2"},[e("div",{staticClass:"subtitle-2"},[t._v("Sellia.pdf")]),e("div",{staticClass:"semi-bold"},[t._v("9mb")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column flex-grow-1 pl-2"},[e("div",{staticClass:"subtitle-2"},[t._v("Sellia.jpg")]),e("div",{staticClass:"semi-bold"},[t._v("1mb")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column flex-grow-1 pl-2"},[e("div",{staticClass:"subtitle-2"},[t._v("Sellia.mp4")]),e("div",{staticClass:"semi-bold"},[t._v("15mb")])])}],g=(s("14d9"),function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"16",height:"21",viewBox:"0 0 16 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{staticClass:"primary-stroke",attrs:{d:"M7.96997 10V13.5C7.96997 15.43 9.53997 17 11.47 17C13.4 17 14.97 15.43 14.97 13.5V8C14.97 4.13 11.84 1 7.96997 1C4.09997 1 0.969971 4.13 0.969971 8V14C0.969971 17.31 3.65997 20 6.96997 20","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])}),C=[],x={props:["stroke"]},_=x,w=Object(u["a"])(_,g,C,!1,null,null,null),b=w.exports,y=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M9 22H15C20 22 22 20 22 15V9C22 4 20 2 15 2H9C4 2 2 4 2 9V15C2 20 4 22 9 22Z",stroke:"#615EF0","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M9 11.51L12 14.51L15 11.51M12 14.51V6.51001M6 16.51C9.89 17.81 14.11 17.81 18 16.51",stroke:"#615EF0","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])},S=[],k={props:["stroke"]},M=k,j=Object(u["a"])(M,y,S,!1,null,null,null),O=j.exports,T=s("ade3");class D{constructor(t){Object(T["a"])(this,"name",null),Object(T["a"])(this,"size",null),Object(T["a"])(this,"type",null),Object(T["a"])(this,"ext",null),Object(T["a"])(this,"url",null),Object(T["a"])(this,"videoThumbnail",null),Object(T["a"])(this,"imageColor",null),this.name=t.filename?`${t.filename}.${t.ext}`:"file."+t.ext,this.size=parseInt(t.size)||561813,this.type=t.mimetype||"",this.ext=t.ext||"",this.url=t.file||"",this.videoThumbnail=t.thumbnail||"",this.imageColor="pdf"===t.ext?null:[66,62,45]}serialize(){return{name:this.name,size:this.size,type:this.type,ext:this.ext,url:this.url,videoThumbnail:this.videoThumbnail,imageColor:this.imageColor}}}var z=function(){var t=this,e=t._self._c;return t.isDialogOpen?e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-content"},[e("img",{attrs:{src:t.imageDialog,alt:""}}),e("div",{on:{click:function(e){t.isDialogOpen=!1}}},[e("i",{staticClass:"fa-solid fa-circle-xmark primary--text icon-xl"})])])]):t._e()},E=[],A={props:["dialog","imageDialog"],data(){return{isDialogOpen:!1}},watch:{dialog(){this.isDialogOpen=!this.isDialogOpen}}},I=A,F=(s("9c36"),Object(u["a"])(I,z,E,!1,null,null,null)),L=F.exports,P={props:{chat:{type:Object},triggerShow:{type:Boolean}},components:{ClipSvg:b,Dialog:L,DownloadSvg:O},data(){return{DecoratedFile:D,messagesToShow:[],limit:1,dialog:!1,showInfo:!0,showChatContent:!0,imageDialog:"",fileRecords:{name:"example.mp4",size:10667860,type:"video/mp4",ext:"mp4",url:"https://sellia-web-page-test.s3.us-east-2.amazonaws.com/hd0051_preview.mp4",videoThumbnail:"https://sellia-web-page-test.s3.us-east-2.amazonaws.com/hd0051_preview_thumb.png"}}},methods:{updateMessagesToShow(){let t=this.messagesToShow.lenght;this.messagesToShow.push(this.chat.messages.slice(t,this.limit))},mediaTypeAction(t){t.mimetype.includes("image")&&(this.dialog=!this.dialog,this.imageDialog=t.file),t.mimetype.includes("pdf")&&window.open(t.file,"_blank")},setStatus(t){this.chat.status=t},hideContentChat(){this.showChatContent=!1,this.$emit("hide-content-chat")}},computed:{totalMessages(){return this.chat.messages.length||0}},mounted(){this.updateMessagesToShow()},watch:{triggerShow:{handler(){this.showChatContent=!0}}}},V=P,N=Object(u["a"])(V,m,v,!1,null,null,null),U=N.exports,B=s("cee4"),G={CLIENTS:"https://sellia-web-page-test.s3.us-east-2.amazonaws.com/clients.json",CLIENT1_MESSAGES:"https://sellia-web-page-test.s3.us-east-2.amazonaws.com/629a8125b2d313190810212f.json",CLIENT2_MESSAGES:"https://sellia-web-page-test.s3.us-east-2.amazonaws.com/629e39e8b2d31319081e0650.json"},$={data(){return{clients:[],selectedChat:null,showContentChat:!0,removeChat:!1}},components:{Chats:f,ChatContent:U},methods:{fetchClients(){B["a"].get(G.CLIENTS,{}).then(t=>{this.clients=t.data.map(t=>({...t,status:"end"})),Promise.all([this.fetchClient1Messages(),this.fetchClient2Messages()]).then(()=>{this.setSelectedChat(this.clients[0])}).catch(t=>{console.log(t)})}).catch(t=>{console.log(t)})},fetchClient1Messages(){return B["a"].get(G.CLIENT1_MESSAGES,{}).then(t=>{this.clients[0]["messages"]=t.data}).catch(t=>{console.log(t)})},fetchClient2Messages(){return B["a"].get(G.CLIENT2_MESSAGES,{}).then(t=>{this.clients[1]["messages"]=t.data}).catch(t=>{console.log(t)})},setSelectedChat(t){this.selectedChat=t,this.showContentChat=!this.showContentChat},hideContentChat(){this.removeChat=!this.removeChat}},async mounted(){this.fetchClients()}},H=$,J=Object(u["a"])(H,n,c,!1,null,null,null),W=J.exports,q=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"topbar d-flex justify-space-between align-center px-1"},[t._m(0),e("AccountMenu")],1)},R=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-center"},[e("i",{staticClass:"fa-brands fa-rocketchat white--text icon-xl"}),e("span",{staticClass:"display-1 white--text pl-1"},[t._v("Hey!")])])}],Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-center pointer relative",on:{click:function(e){t.showMenu=!t.showMenu}}},[e("span",{staticClass:"title white--text pr-1"},[t._v("Victor")]),e("i",{staticClass:"fa-solid fa-user icon-lg white--text"}),t.showMenu?e("div",{staticClass:"account-menu"},[t._m(0)]):t._e()])},K=[function(){var t=this,e=t._self._c;return e("ul",[e("li",[e("a",{attrs:{href:"#"}},[t._v("Ver perfil")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Configuración")])]),e("li",[e("a",{attrs:{href:"#"}},[t._v("Cerrar sesión")])])])}],Q={data(){return{showMenu:!1}}},X=Q,Y=(s("c46a"),Object(u["a"])(X,Z,K,!1,null,"3b9f2c58",null)),tt=Y.exports,et={components:{AccountMenu:tt}},st=et,at=Object(u["a"])(st,q,R,!1,null,null,null),it=at.exports,lt={name:"App",components:{Index:W,Topbar:it}},nt=lt,ct=(s("8855"),Object(u["a"])(nt,i,l,!1,null,null,null)),ot=ct.exports,rt=(s("15f5"),s("7051"),s("4a89")),dt=s.n(rt),ht=s("7924"),ut=s.n(ht);a["default"].use(ut.a),a["default"].component("avatar",dt.a),a["default"].config.productionTip=!1,new a["default"]({render:t=>t(ot)}).$mount("#app")},"56de":function(t,e,s){},8855:function(t,e,s){"use strict";s("b88b")},"9c36":function(t,e,s){"use strict";s("56de")},aed8:function(t,e,s){},b88b:function(t,e,s){},c46a:function(t,e,s){"use strict";s("aed8")},cde2:function(t,e,s){t.exports=s.p+"img/chatbot.ea4acbaa.jpg"}});
//# sourceMappingURL=app.2c60d8be.js.map